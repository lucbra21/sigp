{% extends 'layouts/landing_base.html' %}
{% block title %}{{ prescriptor.squeeze_page_name or 'Prescriptor' }} | SIGP{% endblock %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-lg-8 text-center">
    <h1 class="display-5 mb-4">{{ prescriptor.squeeze_page_name }}</h1>
    {% if prescriptor.photo_url %}
      <img src="{{ prescriptor.photo_url }}" class="rounded-circle mb-4" alt="Foto de {{ prescriptor.squeeze_page_name }}" style="max-width: 200px;">
    {% endif %}
  </div>
</div>

{% if images %}
<div id="galleryCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
  <div class="carousel-inner">
    {% for img in images %}
    <div class="carousel-item {% if loop.first %}active{% endif %}">
      <img src="{{ img }}" class="d-block w-100" alt="Imagen {{ loop.index }}">
    </div>
    {% endfor %}
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#galleryCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Anterior</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#galleryCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Siguiente</span>
  </button>
</div>
{% endif %}

<div class="row justify-content-center">
  <div class="col-md-6">
    <div class="card shadow-sm">
      <div class="card-body">
        <h2 class="h4 mb-3">Déjanos tus datos</h2>
        <form method="post">
          {{ form.hidden_tag() }}
          <div class="mb-3">
            {{ form.name.label(class="form-label") }}
            {{ form.name(class="form-control", placeholder="Tu nombre") }}
            {% for error in form.name.errors %}
            <div class="text-danger small">{{ error }}</div>
            {% endfor %}
          </div>
          <div class="mb-3">
            {{ form.email.label(class="form-label") }}
            {{ form.email(class="form-control", placeholder="Tu email") }}
            {% for error in form.email.errors %}
            <div class="text-danger small">{{ error }}</div>
            {% endfor %}
          </div>
          <div class="mb-3">
            {{ form.cellular.label(class="form-label") }}
            {{ form.cellular(class="form-control", placeholder="Teléfono") }}
            {% for error in form.cellular.errors %}
            <div class="text-danger small">{{ error }}</div>
            {% endfor %}
          </div>
          <div class="mb-3">
            {{ form.program_info_id.label(class="form-label") }}
            {{ form.program_info_id(class="form-select") }}
            {% for error in form.program_info_id.errors %}
            <div class="text-danger small">{{ error }}</div>
            {% endfor %}
          </div>
          <div class="d-grid">
            {{ form.submit(class="btn btn-primary btn-lg") }}
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}

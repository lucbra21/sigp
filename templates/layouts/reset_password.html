{% extends 'layouts/base.html' %}
{% block title %}Nueva contraseña | SIGP{% endblock %}
{% block content %}
<h1 class="fw-semibold text-center " style="font-size:2.8rem; margin-top: 10vh; margin-bottom: 6vh;">Sistema Integral de Prescriptores <br>(SIGP)</h1>

<div class="d-flex justify-content-center align-items-center">
  <div class="card p-4" style="min-width:320px;">
    <h4 class="mb-3 text-center">Nueva contraseña</h4>
    <form method="post">
      {{ form.csrf_token }}
      <div class="mb-3">
        {{ form.password.label(class="form-label") }}
        {{ form.password(class="form-control", placeholder='Contraseña') }}
        {% for error in form.password.errors %}<div class="text-danger small">{{ error }}</div>{% endfor %}
      </div>
      <div class="mb-3">
        {{ form.confirm.label(class="form-label") }}
        {{ form.confirm(class="form-control", placeholder='Confirmar') }}
        {% for error in form.confirm.errors %}<div class="text-danger small">{{ error }}</div>{% endfor %}
      </div>
      <div class="d-grid">
        {{ form.submit(class='btn btn-primary') }}
      </div>
    </form>
  </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded',()=>{
    const form=document.querySelector('form');
    const overlay=document.getElementById('globalLoading');
    if(form&&overlay){
      form.addEventListener('submit',()=>{
        overlay.classList.remove('d-none');
        overlay.classList.add('d-flex');
      });
    }
  });
</script>
{% endblock %}
